<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Community Library</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

  <script defer src="firebase.js"></script>
  <script defer src="app.js"></script>
</head>

<body class="bg-gray-100 min-h-screen">

<!-- LOGIN SCREEN -->
<div id="loginScreen" class="flex items-center justify-center min-h-screen">
  <div class="bg-white p-6 rounded-2xl shadow w-full max-w-sm">
    <h2 class="text-xl font-semibold mb-4 text-center">Admin Login</h2>
    <input id="email" class="input" placeholder="Email">
    <input id="password" type="password" class="input" placeholder="Password">
    <button onclick="login()" class="btn w-full mt-3">Login</button>
    <p id="loginError" class="text-red-500 text-sm mt-2 text-center hidden">
      Invalid credentials
    </p>
  </div>
</div>

<!-- APP -->
<div id="app" class="hidden">

<!-- HEADER -->
<div class="bg-white sticky top-0 shadow">
  <div class="max-w-6xl mx-auto p-4 flex justify-between">
    <h1 class="font-semibold">ðŸ“š Community Library</h1>
    <button onclick="logout()" class="text-red-500">Logout</button>
  </div>
</div>

<div class="max-w-6xl mx-auto p-4 space-y-6">

<!-- DASHBOARD -->
<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
  <div class="card"><p>Total Books</p><h2 id="totalBooks">0</h2></div>
  <div class="card"><p>Available</p><h2 id="availableBooks">0</h2></div>
  <div class="card"><p>Checked Out</p><h2 id="checkedOutBooks">0</h2></div>
  <div class="card"><p>Users</p><h2 id="totalUsers">0</h2></div>
</div>

<!-- SEARCH -->
<input id="searchInput" oninput="searchBooks()"
  class="w-full p-3 rounded-2xl shadow"
  placeholder="ðŸ” Search books">

<!-- ADD USER -->
<div class="bg-white p-4 rounded-2xl shadow">
  <h2 class="font-semibold mb-2">ðŸ‘¤ Add Member</h2>
  <div class="grid md:grid-cols-3 gap-3">
    <input id="uname" class="input" placeholder="Name">
    <input id="uphone" class="input" placeholder="Phone">
    <input id="uflat" class="input" placeholder="Flat No">
  </div>
  <button onclick="addUser()" class="btn mt-3">Add User</button>
</div>

<!-- ADD BOOK -->
<div class="bg-white p-4 rounded-2xl shadow">
  <h2 class="font-semibold mb-2">âž• Add Book</h2>
  <div class="grid md:grid-cols-4 gap-3">
    <input id="btitle" class="input" placeholder="Title">
    <input id="bauthor" class="input" placeholder="Author">
    <input id="bcategory" class="input" placeholder="Category">
    <input id="bowner" class="input" placeholder="Donated By / Library">
  </div>
  <input type="file" id="bimage" class="mt-3">
  <button onclick="addBook()" class="btn mt-3">Add Book</button>
</div>

<!-- BOOK LIST -->
<h2 class="font-semibold">ðŸ“š Books</h2>
<div id="bookList" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>

</div>
</div>

<style>
.input {
  width: 100%;
  padding: 10px;
  border-radius: 14px;
  border: 1px solid #e5e7eb;
}
.btn {
  background: #6366f1;
  color: white;
  padding: 10px 16px;
  border-radius: 16px;
}
.card {
  background: white;
  padding: 16px;
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,.05);
}
.card h2 {
  font-size: 1.5rem;
  font-weight: 600;
}
</style>

</body>
</html>
